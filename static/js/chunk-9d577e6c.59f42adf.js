(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9d577e6c"],{"0205":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIqADAAQAAAABAAAAIgAAAAACeqFUAAAEW0lEQVRYCc1YXWxURRT+zuxfa+nelD8JmgABMegDCvHBH9SooEUhBh+MJD74gEafAJsqv0K1GEFTYx8k0Rdiig8GNVWpIATjgxoNITyoaMQEIQ2Bal22rbt7d+94zsW7e2f33u1tWYnzcmfOnJ9vzpk5c+YSJtCeXKFbMs4fD5ZIrySN+RqYTdCzRYUGDRIwqAmnY5oOWmraofcO02hU9Sw7flvdfuFWp4htWqOduZvGl3A5ckQYUHG83D8w88R4MnWBrFk5PKdQKHbzytfymuvyhhsiEdyfTMa3fHiw7UwYX6jyVSsutDsOvc8ArDDhidEpo5R+4pPDMweC5FQQ8eHlF5/Xmj5tHAixoi3RKbqDbNZ4xGXU+vUg5obRiDo++2LGG359BhAJh6DWWgd6yi94JX0icoj0I/4wlYHIxswXiicbG456cCmTSsYXexu4vHI5HVcPhADU1mWbl8G6HpE8UbLpOE+WPVRvLY2bIx1L6KWSZ1yPODZtv/ogZDmaJFFKjyRt/+lcHOJ+1IwpcpHagoVxPPPcFChe7jt7R3Dqx2KQXG6qmjFdyd3Bsw0HMXdeDN27LSy6OYEbFyXQuSUdBEJoTYJByQUWxjFZ+rWzFLpetdDSUj4L3A/ffoJByS06WYNBcmmLXBBTp8WM6b59Y8bYPxAMSq5yP/FK+k0c4K5dFq67Pm6o+fjAGPo/+tug+QeCQXn1hH/C68cTwObtaXzQPx0vbk0jVWcnxdn21p0WFixkIV87djSHd/fWL0sEQyWIPmGve//yJtyxLIXmZsJd96QYlOWeAG/e+3LdgY0vtOKWJUmP5H6Pf1/Am3uyBi1swKGhwbBJLoSMtvS2JNZ3tBo0GTzNR/Tue013/XzKxq6uDEqlGvYagmDg0CAUyLEjOfz6i20I3sdeempdS5n2+NprsOrR5vJYOufOFrFjcwb5nEEOHQiG2A3zO5cxx5IgLscBvvk6j9vvTKE1XYniTZwbRkc15s6LY92zUwzRoaESNnVkMDxc5U6Dq2pAdJRWPzC0pgTnQNWUMZzFeWHPW21oa6uA4VIBAjQWq+SHkayDzg1/4fczEeLhsxCDekxJtc20uk48f97BS5syGBtjy/82rikMEPm8xs5tmQmDENuCQUnJT6DPPQNh399OF9G94xJsu9blpZLGa69cwk8/BN4lYSpdulT6gsH1tUroLr7/ai1UqTh5wkbP7iwkLP7W25PFd98W/KSIfdLy3BBmF4jUAxzp/VGkv/oyj96eEdgF7Xrn7d4sjhzKRxGt4RGb3punvNMmWiomOIFKIitMxhEupJBSUWpHeXdIYVsDPYBgc3qZLAixIba8elXUV84jD6Sq5uh3BthtKEls+Ct4UW4AEYL73uB3R1TPiEzU5uoMeNOIfHmPVCv7Xzw5BZS4Tt4dnGP6ohzt6oVUxvIIpz7RVR2OCk8dj/iZ3N8SXOlr6IeYbl6zfkaz37jfEqZe4L/8UfMPt7miILyWXloAAAAASUVORK5CYII="},"1aba":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAKAAAAAB65masAAAC/UlEQVRYCe2ZTYvTUBSGJ+lY6NdGiwvHEQpSCl24qEsX4mIQF7oUFBwEGdEZNy78ES4UP8aF+AP8BQoVxD/ggELpQqFVOxZtlWK/xNLU9w1NOLk2nTaT1C4aCPfcc8+95+mbm3uTVFtSjng8nh0MBtfgXkN5DGVcCVGrFTiudzqdF2qDrMdisUuo38eYh6V/jP0xFAqta1ZANpsNl0qle6jfwKlb/gnLCgBX3WJzudyBYrHYQHvULcbF/3aZDYQrl8svYZ5xCdzLbf/QvQKnadc0bTXEDu12+wGKi9N0FrG7sDd6vd4H4XOY1WrVCIfDn5DwFBpijsYxFcS3Nc45wzDeI05e1l003olEIm/q9frXMWPsuwn5byH/w1EDgeH78vCGcMBhcp5oNps/oOyofr75ALflBmclIdiaVWFJ5QgnfUHYQ7hHyth9pb6kD5cS28/LalcCMlzgfkOcq2pK3sWOdW4Gc24Tl1VVjnDnwcJ7wXHIuedoCKIC5Qj3WBnbhMN8f6X4zerMAAF3c1o4Es4EcAi3rSg0VjkrNnBA7MHrUG4U3AX1smYymZ8A61hwuIG/aNFodGA5WGJP9XXbAuA35QGByhEuL/NaNuIvw+ZDxS/zYSFoQIzPLfD4EGAsnAUpy8AvsamCpu1AtR1d18+6KSehpB34JZbJvNiBK+gFSvZZAEo1vNgLBb2oJvuY7yTS8b9trJvnwPAUJzeQjblbZgBYAdgKTh6VeZyDFhwBj84jIMHsYwFoS+HRWCjoUTi720JBWwqPBhVsyb7JZPKIrM/SHpG7peNJ97OE6Ha7p2V9lraam2xU0PHygpeVu4lE4tAswZiLOZlbyZungs/gNETDSr/ff8dPtiMkF2H+mMzBXMyJEeU2Z5DNfMXEBs3PEZv+pPRtlG28Am+Zy0wqlboN2te+Db3PgchCJg5jfgKu1Wr9dDr9vNFoHITvJE5fX96ZaMKDU+0J4K4UCoU/7PMPCL6jTPs3xIS5XcNaUIwrSZ5zrtVqFWTkX6zqCkLY33xvAAAAAElFTkSuQmCC"},"1f10":function(t,a,e){var s={"./approve-logo-dark.png":"99e8","./approve-logo.png":"90d9"};function i(t){var a=n(t);return e(a)}function n(t){if(!e.o(s,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="1f10"},"257e":function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"chain-list",class:{isResult:t.isResult}},t._l(t.chainMapList,(function(s){return a("div",{class:["chain-item d-flex ai-center jc-between",Number(t.currentChain.chainId)===Number(s)&&"selected"],on:{click:function(a){return a.stopPropagation(),t.chooseChain(s)}}},[a("div",{staticClass:"left d-flex ai-center"},[a("img",{class:{isResult:t.isResult},attrs:{src:t.chainMap[s].logo||t.defaultLogo,alt:""}}),a("span",{staticClass:"textC",class:{isResult:t.isResult}},[t._v(t._s(t.chainMap[s].name))])]),a("img",{directives:[{name:"show",rawName:"v-show",value:Number(t.currentChain.chainId)===Number(s),expression:"Number(currentChain.chainId) === Number(chain)"}],staticClass:"right",attrs:{src:e("0205"),alt:""}})])})),0)},i=[],n={data(){return{defaultLogo:e("c0eb")}},props:{currentChain:{type:Object},chainMap:{type:Object},chainMapList:{type:Array},isResult:{type:Boolean}},methods:{chooseChain(t){this.$emit("switchChain",t)}}},r=n,o=(e("c3bd"),e("2877")),c=Object(o["a"])(r,s,i,!1,null,"30a26fcf",null);a["a"]=c.exports},3505:function(t,a,e){var s={"./link-out-dark.png":"81f8","./link-out.png":"1aba"};function i(t){var a=n(t);return e(a)}function n(t){if(!e.o(s,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="3505"},"358a":function(t,a,e){t.exports=e.p+"static/img/medium-risk.31a848c8.svg"},"45c2":function(t,a){t.exports="data:image/png;base64,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"},4704:function(t,a,e){t.exports=e.p+"static/img/low-risk.1a708157.svg"},"4c18":function(t,a,e){t.exports=e.p+"static/img/loading-dark.61c006b7.png"},"4f2e":function(t,a,e){},5572:function(t,a,e){"use strict";e("da56")},"55be":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAABOUlEQVR4XsVWMQ6CMBTlKh7BEzgiKbiUbsbRe7C5uHkRB0cZNXFzMeLmDZxZsK+EBH5roEq+L3mB9Pe/l5b284NgAKKFnEZCZqFQuX4WYSxfoHmvxzLMoXneiGKVhnF6D4WsBlHPRQ7V6UWSqMk8lmdLcCCRCw2q60SUqJnZMoeQF7HlWovqd2DMRFpayV8zLT+aYgtGWRml1nRu7y/frI/Q7piZ0+iYOCY7p9fr6H9L7VGvTl9YK0i42e6q/eFYLVdrK4YxxDCHxihNcagriB1sE4K3x7M6Xa4dU7xjDDHMoXmU8ApQmmiAsi3cmLrGaJ5NlWOFhR2wSQ38zcwKi8Dn7rVNfc0MtRe/If+W/uHQ8F4L9ovPXtpMeeMu3gDr7wlg/wEDrC1GA9YmqgFrm9gGWyNMMWar/wYmmPed45CAXgAAAABJRU5ErkJggg=="},"62bc":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAqCAYAAADBNhlmAAAA2UlEQVR4Xu3WsQ6CMBSFYXafytdx42VNaY0JpENnB1flEg+RphTQtjCcL2EgUO4fYGhVEREREVFJjekuSrcPpbu7utmzfz01mTHM6mfKbP/6hHPudNXtazxM98wZKc+WGd8zpcG/bzQEegtyRYbi5DwaKOQ1TxZliAzG9cfiJ4bG2NpfnCpyPs7W/r1ROSKTxUHKyORxkCIyWxz8E5k9Dn6JLBYHWyKLx8GayN3iIBa5exzMRR4iDoKRR4mDWOTucRCKPEwcDLugzz+4eldSmuzlFvdzRES0yRsy4NgBr3sKogAAAABJRU5ErkJggg=="},"71ff":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"approval"},[a("modal",{attrs:{classes:"network-modal",color:"#49d663",adaptive:!0,width:"94%",maxWidth:540,name:"network-panel",height:"auto"}},[a("div",{staticClass:"net-wrap"},[a("h2",[t._v(t._s(t.$t("changeNetwork")))]),t._l(t.chainMapList,(function(e){return a("div",{class:["net-item",Number(t.currentChain.chainId)===Number(e)&&"active"],on:{click:function(a){return t.switchChain(e)}}},[a("img",{staticClass:"img-net",staticStyle:{width:"20px",height:"20px"},attrs:{src:t.chainMap[e].logo||t.defaultLogo,alt:""}}),a("span",[t._v(" "+t._s(t.chainMap[e].name))])])}))],2)]),a("header",{class:{inline:"init"!==t.status}},[a("div",{staticClass:"header-content"},[a("img",{staticClass:"tp-banner",attrs:{src:t.logoImg,alt:""}}),a("div",{directives:[{name:"show",rawName:"v-show",value:"init"!==t.status,expression:"status !== 'init'"}],class:["search-wrap search-wrap-header","init"!==t.status&&"inline"]},[a("div",{class:["search",(!t.confirmVisible||t.chainListVisible)&&"active"]},[a("div",{staticClass:"chain-wrap"},[a("div",{class:["chain",t.chainListVisible&&"active"],on:{click:function(a){t.chainListVisible=!t.chainListVisible}}},[a("img",{staticClass:"logo",attrs:{src:t.currentChain.logo,alt:""}}),a("span",{staticClass:"name"},[t._v(t._s(t.currentChain.name))]),a("img",{staticClass:"slide",attrs:{src:t.downImg,alt:""}})]),a("ChainList",{directives:[{name:"show",rawName:"v-show",value:t.chainListVisible,expression:"chainListVisible"}],attrs:{currentChain:t.currentChain,chainMap:t.chainMap,chainMapList:t.chainMapList},on:{switchChain:t.switchChain}})],1),a("div",{staticClass:"split"}),a("div",{staticClass:"address-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"address",attrs:{type:"text",placeholder:t.$t("placeholderA")},domProps:{value:t.address},on:{keydown:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.confirm.apply(null,arguments)},input:function(a){a.target.composing||(t.address=a.target.value)}}}),a("img",{directives:[{name:"show",rawName:"v-show",value:t.address,expression:"address"}],staticClass:"clear",attrs:{src:t.clearImg,alt:""},on:{click:t.onClear}})])]),a("div",{class:["confirm",!t.address&&"disabled"],on:{click:t.confirm}},[t._v(t._s(t.$t("submit")))])]),a("div",{staticClass:"header-right"},[t.selectedAddress?a("div",{staticClass:"select-address-wrap",on:{click:function(a){return t.$modal.show("network-panel")}}},[a("div",{staticClass:"network"}),a("img",{directives:[{name:"show",rawName:"v-show",value:t.chainMap[t.currentChain.chainId],expression:"chainMap[currentChain.chainId]"}],staticClass:"logo",attrs:{src:t.chainMap[t.currentChain.chainId].logo,alt:""}}),a("span",{staticClass:"address"},[t._v(t._s(t.omitAddress(t.selectedAddress)))])]):a("div",[a("button",{staticClass:"connect-btn",on:{click:function(a){return t.login("click")}}},[t._v(t._s(t.$t("connectWallet")))])]),a("div",{staticClass:"lang-switch",on:{click:function(a){return t.switchLang("zh_CN"===t.$i18n.locale?"en_US":"zh_CN")}}},[t._v(" "+t._s("zh_CN"===t.$i18n.locale?"EN":"ä¸­")+" ")]),a("div",{staticClass:"switcher",on:{click:t.changeMode}},[a("span",{class:["weui-switch big",t.isDark&&"weui-switch-on"]})])])])]),a("img",{directives:[{name:"show",rawName:"v-show",value:"init"===t.status,expression:"status === 'init'"}],staticClass:"header-img",attrs:{src:e("851a"),alt:""}}),a("main",[a("div",{class:["search-wrap","init"!==t.status&&"search-wrap-main"]},[a("div",{class:["search",(!t.confirmVisible||t.chainListVisible)&&"active"]},[a("div",{staticClass:"chain-wrap"},[a("div",{class:["chain",t.chainListVisible&&"active"],on:{click:function(a){t.chainListVisible=!t.chainListVisible}}},[a("img",{staticClass:"logo",attrs:{src:t.currentChain.logo,alt:""}}),a("span",{directives:[{name:"show",rawName:"v-show",value:"init"===t.status,expression:"status === 'init'"}],staticClass:"name"},[t._v(t._s(t.currentChain.name))]),a("img",{staticClass:"slide",attrs:{src:t.downImg,alt:""}})]),a("ChainList",{directives:[{name:"show",rawName:"v-show",value:t.chainListVisible,expression:"chainListVisible"}],attrs:{currentChain:t.currentChain,chainMap:t.chainMap,chainMapList:t.chainMapList},on:{switchChain:t.switchChain}})],1),a("div",{staticClass:"split"}),a("div",{staticClass:"address-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"address",attrs:{type:"text",placeholder:t.$t("placeholderA")},domProps:{value:t.address},on:{keydown:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.confirm.apply(null,arguments)},input:function(a){a.target.composing||(t.address=a.target.value)}}}),a("img",{directives:[{name:"show",rawName:"v-show",value:t.address,expression:"address"}],staticClass:"clear",attrs:{src:t.clearImg,alt:""},on:{click:t.onClear}})])]),a("div",{class:["confirm",!t.address&&"disabled"],on:{click:t.confirm}},[t._v(t._s(t.$t("submit")))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"data"===t.status,expression:"status === 'data'"}],staticClass:"warn-wrap"},[a("img",{attrs:{src:e("45c2"),alt:""}}),a("span",[t._v(t._s(t.$t("testWarn")))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.status,expression:"status === 'loading'"}],staticClass:"loading-wrap"},[a("img",{staticClass:"loading",attrs:{src:t.loadingImg,alt:""}}),a("p",{staticClass:"loading-text"},[t._v(t._s(t.$t("loading")))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"noData"===t.status,expression:"status === 'noData'"}],staticClass:"no-data-wrap"},[a("img",{staticClass:"no-data",attrs:{src:e("f296"),alt:""}}),a("p",{staticClass:"no-data-text"},[t._v(t._s(t.$t("noData")))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"data"===t.status,expression:"status === 'data'"}],staticClass:"data-wrap"},[a("div",{staticClass:"test-type-wrap"},[a("p",{staticClass:"test-result"},[t._v(t._s(t.$t("testResult")))]),"728126428"!==t.currentChain.chainId?a("div",{staticClass:"type-wrap"},t._l(t.typeList,(function(e,s){return a("div",{key:"type"+s,class:["type",t.type===e&&"select"],on:{click:function(a){t.type=e}}},[t._v(t._s("all"===e?t.$t(e):e))])})),0):a("div",{staticClass:"type-wrap"},[a("div",{staticClass:"type select"},[t._v(t._s(t.$t("all")))])])]),t.tronCancelList.length>0?a("div",{staticClass:"amount0-wrap"},["zh_CN"===t.$i18n.locale?a("div",{staticClass:"approve-amount"},[t._v(t._s("æ‚¨å½“å‰æœ‰"+t.tronCancelList.length+"ä¸ª0æŽˆæƒè®°å½•"))]):a("div",{staticClass:"approve-amount"},[t._v(t._s(t.tronCancelList.length+t.tronCancelList.length===1?"record":"recordsabout 0 approval"))]),a("div",{staticClass:"amount-btn",on:{click:t.onShow}},[a("span",{staticClass:"approve-amount"},[t._v(t._s("zh_CN"===t.$i18n.locale?"ç‚¹å‡»å±•å¼€æŸ¥çœ‹":"view all"))]),a("img",{attrs:{src:e("f532"),alt:""}})])]):t._e(),t._l(t.list,(function(s,i){return a("div",{key:i,class:["data",t.curSelectIndex===i&&!s.unapproving&&0!==s.approved_amount&&"active"],on:{mouseenter:function(a){return t.onMouseEnter(i)}}},[a("div",{staticClass:"data-top"},[a("a",{staticClass:"explorer-wrap",attrs:{target:"_blank",href:s.tokenAddressUrl||"#"}},[a("img",{staticClass:"logo",attrs:{src:s.logo||t.defaultLogo,alt:""},on:{error:a=>{a.target.src=t.defaultLogo}}}),a("span",{class:["symbol","ERC-20"!==t.type&&"with-type"],attrs:{title:s.token_symbol}},[t._v(t._s(s.token_symbol))]),a("img",{staticClass:"explorer",attrs:{src:t.linkImg,alt:""}}),a("div",{directives:[{name:"show",rawName:"v-show",value:"ERC-20"!==s.type,expression:"item.type !== 'ERC-20'"}],staticClass:"type"},[t._v(t._s(s.type))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"high"===s.risk,expression:"item.risk === 'high'"}],staticClass:"risk high"},[a("img",{attrs:{src:e("fee1"),alt:""}}),a("span",[t._v(t._s(t.$t("highRisk")))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"medium"===s.risk,expression:"item.risk === 'medium'"}],staticClass:"risk medium"},[a("img",{attrs:{src:e("358a"),alt:""}}),a("span",[t._v(t._s(t.$t("mediumRisk")))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"low"===s.risk,expression:"item.risk === 'low'"}],staticClass:"risk low"},[a("img",{attrs:{src:e("4704"),alt:""}}),a("span",[t._v(t._s(t.$t("lowRisk")))])])]),a("div",{staticClass:"data-info"},[a("div",{staticClass:"data-info-item"},["728126428"!==t.currentChain.chainId?a("span",{staticClass:"name"},[t._v(t._s(t.$t("contractAddress")+":"))]):a("span",{staticClass:"name"},[t._v(t._s(t.$t("toAddress")+":"))]),a("a",{staticClass:"value",attrs:{target:"_blank",href:s.approveContractUrl||"#"}},[a("span",[t._v(t._s(s.transitSwap?"transitSwap":t.omit(s.contract_name||s.approved_contract)))]),a("img",{attrs:{src:t.linkContractImg(s.safety),alt:""}})])]),a("div",{directives:[{name:"show",rawName:"v-show",value:"ERC-20"===s.type||"728126428"===t.currentChain.chainId,expression:"item.type === 'ERC-20' || currentChain.chainId === '728126428'"}],staticClass:"data-info-item"},[a("span",{staticClass:"name"},[t._v(t._s(t.$t("approveAmount")+":"))]),a("span",{staticClass:"value",attrs:{title:s.approved_amount}},[t._v(t._s(s.approved_amount))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:s.initial_approval_time,expression:"item.initial_approval_time"}],staticClass:"data-info-item"},[a("span",{staticClass:"name"},[t._v(t._s(t.$t("firstApproveTime")+":"))]),a("span",{staticClass:"value"},[t._v(t._s(s.initial_approval_time))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:s.time,expression:"item.time"}],staticClass:"data-info-item"},[a("span",{staticClass:"name"},[t._v(t._s(t.$t("approveTime")+":"))]),a("span",{staticClass:"value"},[t._v(t._s(s.time))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:s.initial_approval_hash,expression:"item.initial_approval_hash"}],staticClass:"data-info-item"},[a("span",{staticClass:"name"},[t._v(t._s(t.$t("approveHash")+":"))]),a("a",{staticClass:"value",attrs:{target:"_blank",href:s.approveHashUrl||"#"}},[a("span",[t._v(t._s(t.omit(s.initial_approval_hash)))]),a("img",{attrs:{src:t.linkImg,alt:""}})])])]),a("div",{class:["cancel","ERC-20"!==s.type&&"offset",(t.cancelDisabled||s.unapproving||"728126428"===t.currentChain.chainId&&0==s.approved_amount)&&"disabled"],on:{click:function(a){return t.cancelApprove(s)}}},["728126428"!==t.currentChain.chainId?a("div",{staticClass:"cancel-text"},[a("img",{directives:[{name:"show",rawName:"v-show",value:s.unapproving,expression:"item.unapproving"}],attrs:{src:e("f61c"),alt:""}}),a("span",[t._v(t._s(s.unapproving?t.$t("unapproving"):t.cancelBtnContent))])]):a("div",{staticClass:"cancel-text"},[a("img",{directives:[{name:"show",rawName:"v-show",value:s.unapproving,expression:"item.unapproving"}],attrs:{src:e("f61c"),alt:""}}),s.unapproving?a("span",[t._v(t._s(s.unapproving?t.$t("unapproving"):t.cancelBtnContent))]):t._e(),0==s.approved_amount?a("span",[t._v(t._s(t.$t("cancelled")))]):t._e(),t.cancelDisabled?a("span",[t._v(t._s(t.$t("switchAddress")))]):a("span",[t._v(t._s(t.$t("cancelApprove")))])])])])})),t._m(0)],2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.chainListVisible,expression:"chainListVisible"}],staticClass:"mask-bg",on:{click:function(a){t.chainListVisible=!1}}})],1)},i=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"footer-logo"},[a("div",{staticClass:"light-mode"})])}],n=(e("14d9"),e("d9e2"),e("257e")),r=e("2f62"),o=e("ed08"),c=e("60fe"),l=e("cee4"),d=e("5a0c"),h=e.n(d),A=e("c0d8"),p=e.n(A);const u=["TDvXH5BY291y9MdyLXyTMysYQ67sf6bqZe","TUrJB7eRxJWya938prRbiFqmYQga7iXA2L","TKzxdSv2FZKQrEqkKVgp5DcwEXBEKMg2Ax","TC8hD4aA9Zy4wMofGVE1tw6gjPGHrEfsNW"],m=["0x4184d9a175d13e568f3466ea93c02b6f8eb9f8c1","0xb01a9a7ef5779fa8680898827cc2b1aed638ee2d","0x9865eebdd1ce65f45b6247aeed2fa2252eca7a08"],v=["0x3e992b0dfb1aa0add70543ed0d13262c136fe6b3","0xed1afc8c4604958c2f38a3408fa63b32e737c428"],g=[],C=[],f=[],w=[],k=[],b=["tr7nhqjekqxgtci8q8zy4pl8otszgjlj6t","tcfcgjekyqmdyt1yxfum5v5sdtay6tuwik"];var y={name:"Approval",components:{ChainList:n["a"]},data(){return{currentChain:{logo:"",name:"",chainId:""},address:"",status:"init",chainListVisible:!1,defaultLogo:e("c0eb"),chainMap:{},chainMapList:["1","56","66","137","250","42161","43114","728126428"],tokenApprovalData:[],nft721ApprovalData:[],nft1155ApprovalData:[],okTokenApprovalData:[],okNft721ApprovalData:[],okNft1155ApprovalData:[],tronList:[],okLinkApprovalList:[],type:"all",typeList:["all","ERC-20","ERC-721","ERC-1155"],web3:null,userAddress:"",selectedAddress:"",selectedChainId:"",confirmVisible:!0,interval:null,requestId:0,tronPageNum:1,timeoutIDs:[],promiseList:[],isShowAll:!1,curSelectIndex:null,supportNetwork:c["o"]}},computed:{...Object(r["b"])(["isDark"]),queryObj(){const t={locale:window.localStorage.getItem("locale"),chainId:this.currentChain.chainId,address:this.address};return t},tronApproveList(){return this.tronList.filter(t=>"0"!=t.approved_amount)},tronCancelList(){return this.tronList.filter(t=>"0"==t.approved_amount)},list(){if("1"!==this.currentChain.chainId&&"56"!==this.currentChain.chainId&&"728126428"!==this.currentChain.chainId)return"ERC-20"===this.type?this.okTokenApprovalData:"ERC-721"===this.type?this.okNft721ApprovalData:this.okNft1155ApprovalData;if("all"===this.type)return this.tokenApprovalData.concat(this.nft721ApprovalData).concat(this.nft1155ApprovalData);if("ERC-20"===this.type)return this.tokenApprovalData;if("ERC-721"===this.type)return this.nft721ApprovalData;if("ERC-1155"===this.type)return this.nft1155ApprovalData;if("tron"===this.type){if(this.isShowAll){let t=this.tronList.filter(t=>0==t.approved_amount),a=this.tronList.filter(t=>0!=t.approved_amount);return[...t,...a]}return this.tronApproveList}},cancelBtnContent(){let t="";return t=this.selectedChainId!==this.currentChain.chainId?this.$t("switchChain",{network:c["c"][this.currentChain.chainId]&&c["c"][this.currentChain.chainId].name}):this.selectedAddress.toLowerCase()!==this.userAddress.toLowerCase()?this.$t("switchAddress"):this.$t("cancelApprove"),t},cancelDisabled(){const t=this.selectedChainId!==this.currentChain.chainId||this.selectedAddress.toLowerCase()!==this.userAddress.toLowerCase();return t},tronListStart(){return 50*(this.tronPageNum-1)},downImg(){let t="";return this.isDark&&(t="-dark"),e("f91b")(`./down${t}.png`)},clearImg(){let t="";return this.isDark&&(t="-dark"),e("d28c")(`./delete${t}.png`)},logoImg(){let t="";return this.isDark&&(t="-dark"),e("1f10")(`./approve-logo${t}.png`)},loadingImg(){let t="";return this.isDark&&(t="-dark"),e("ffba")(`./loading${t}.png`)},linkImg(){let t="";return this.isDark&&(t="-dark"),e("3505")(`./link-out${t}.png`)}},watch:{address(){clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.confirm()},300)},currentChain(t){"1"!=t.chainId&&"56"!=t.chainId?(this.typeList=["ERC-20","ERC-721","ERC-1155"],this.type="ERC-20"):this.typeList=["all","ERC-20","ERC-721","ERC-1155"]},type(t){let a="token_20";a="ERC-721"===t?"token_721":"ERC-1155"===t?"token_1155":"token_20"},changeMode(){let t=document.documentElement.hasAttribute("theme");Object(o["h"])(!t),this.$store.commit("setDark",!t),t?window.localStorage.setItem("mode","light"):window.localStorage.setItem("mode","dark")},queryObj(t){this.$router.replace({path:"/approval",query:{...t}})}},created(){document.getElementsByTagName("link")[0].setAttribute("href","/favicon.ico"),document.title=this.$t("ApprovalTitle");const{locale:t,chainId:a,address:e}=this.$route.query;t&&this.switchLang(t),e&&a&&(this.status="loading"),this.getTransitSwapContract();try{window.ethereum?this.web3=new p.a(window.ethereum):this.interval=setInterval(()=>{window.ethereum&&(this.web3=new p.a(window.ethereum),clearInterval(this.interval),this.interval=null)},300),this.login()}catch(s){console.log("err",s)}this.web3?this.web3=new p.a(window.ethereum):this.interval=setInterval(()=>{window.ethereum&&(this.web3=new p.a(window.ethereum),clearInterval(this.interval),this.interval=null)},300),this.getChainMap().then(this.login).catch(t=>{this.currentChain={...c["c"][1],chainId:1},this.chainMapList.map(t=>this.chainMap[t]=c["c"][t])}),window.addEventListener("message",this.onTronLink),window.onscroll=this.onscrollBottom},methods:{omit(t){let a="";return a=t.length>15?t.substr(0,8)+"..."+t.substr(-8):t,a},omitAddress(t){let a="";return a=t.length>10?t.substr(0,6)+"..."+t.substr(-4):t,a},linkContractImg(t){let a="";return this.isDark&&(a="-dark"),"safe"===t?e("d284"):e("3505")(`./link-out${a}.png`)},async getOkLinkBlockchain(){try{const t=await fetch("https://www.oklink.com/api/v5/explorer/blockchain/summary",{headers:{"Ok-Access-Key":"390bc452-b432-4a04-b093-1add41d638b8"}});await t.json()}catch(t){console.log(t)}},async getOkLinkApproveList(t){try{let a="";a=await fetch(`https://www.oklink.com/api/v5/tracker/contractscanner/token-authorized-list?address=${this.address}&chainShortName=${this.currentChain.chainShortName}&protocolType=${t}`,{headers:{"Ok-Access-Key":"390bc452-b432-4a04-b093-1add41d638b8"}});const e=await a.json();"token_20"===t?this.okTokenApprovalData=this.getOkLinkData(e.data,t):"token_721"===t?this.okNft721ApprovalData=this.getOkLinkData(e.data,t):"token_1155"===t&&(this.okNft1155ApprovalData=this.getOkLinkData(e.data,t))}catch(a){console.log(a)}},onMouseEnter(t){this.cancelDisabled||(this.curSelectIndex=t)},onShow(){this.isShowAll=!this.isShowAll},getTransitSwapContract(){l["a"].get("https://aggserver.transit.finance/v4/common/contracts").then(t=>{if(t.data&&0===t.data.result&&t.data.data){var a,e,s,i,n,r,o,c,l,d,h,A,p,v,b,y;const E=null===(a=t.data.data.contracts)||void 0===a||null===(e=a.approve)||void 0===e?void 0:e.TRON,I=null===(s=t.data.data.contracts)||void 0===s||null===(i=s.approve)||void 0===i?void 0:i.ETH,D=null===(n=t.data.data.contracts)||void 0===n||null===(r=n.approve)||void 0===r?void 0:r.BSC,x=null===(o=t.data.data.contracts)||void 0===o||null===(c=o.approve)||void 0===c?void 0:c.OEC,_=null===(l=t.data.data.contracts)||void 0===l||null===(d=l.approve)||void 0===d?void 0:d.MATIC,L=null===(h=t.data.data.contracts)||void 0===h||null===(A=h.approve)||void 0===A?void 0:A.FTM,N=null===(p=t.data.data.contracts)||void 0===p||null===(v=p.approve)||void 0===v?void 0:v.ARB,B=null===(b=t.data.data.contracts)||void 0===b||null===(y=b.approve)||void 0===y?void 0:y.AVAX;u.push(E),m.push(I.toLowerCase()),m.push(D.toLowerCase()),g.push(x.toLowerCase()),C.push(_.toLowerCase()),f.push(L.toLowerCase()),w.push(N.toLowerCase()),k.push(B.toLowerCase())}}).catch(t=>{console.log(t)})},onscrollBottom(){const t=document.documentElement.scrollTop||document.body.scrollTop,a=document.documentElement.clientHeight||document.body.clientHeight,e=document.documentElement.scrollHeight||document.body.scrollHeight;t+a>=e&&"728126428"===this.currentChain.chainId&&this.getTronApproveList()},getChainMap(){return new Promise((t,a)=>{this.currentChain={...c["c"][1],chainId:1},this.chainMapList.map(t=>this.chainMap[t]=c["c"][t]);const{locale:e,chainId:s,address:i}=this.$route.query;e&&this.switchLang(e),i&&s&&(this.address=i,this.switchChain(s)),t()})},async confirm(t){if(!p.a.utils.isAddress(this.address))return;if("refresh"!==t){if(!this.address)return;this.status="loading",this.userAddress=this.address}this.requestId+=1;const a=this.requestId;if("728126428"===this.currentChain.chainId)this.tronPageNum=1,this.tronList=[],this.curSelectIndex="",this.getTronApproveList();else if("1"!==this.currentChain.chainId&&"56"!==this.currentChain.chainId){let t=this.getOkLinkApproveList("token_20"),a=this.getOkLinkApproveList("token_721"),e=this.getOkLinkApproveList("token_1155");Promise.all([t,a,e]).then(()=>{this.okTokenApprovalData.length||this.okNft721ApprovalData.length||this.okNft1155ApprovalData.length?this.status="data":this.status="noData"}).catch(t=>{this.status="loading"})}else try{let e="";if(e="0x"===this.userAddress||"0x"===this.address?"refresh"===t?this.userAddress:this.address:p.a.utils.toChecksumAddress("refresh"===t?this.userAddress:this.address),this.currentChain.chainId){const t=await fetch(`${o["a"]}/token/approval/security?address=${e}&chainId=${this.currentChain.chainId}`,{method:"post",headers:{"Content-Type":"application/json"}});this.requestId===a&&(this.type="all");const s=await t.json();if("0"!==s.code||null===s.data)throw new Error("error");{let t=s.data;this.tokenApprovalData=this.getData(JSON.parse(t.token_approval_data)||[],"ERC-20"),this.nft721ApprovalData=this.getData(JSON.parse(t.nft721_approval_data)||[],"ERC-721"),this.nft1155ApprovalData=this.getData(JSON.parse(t.nft1155_approval_data)||[],"ERC-1155"),this.tokenApprovalData.length||this.nft721ApprovalData.length||this.nft1155ApprovalData.length?this.status="data":this.status="noData"}}}catch(e){this.status="noData",console.log(e)}},getData(t,a){let e=[];for(let s of t){const t=s.approved_list.map(t=>{let e="",i="",n="";if(t.address_info){const a=t.address_info;1===a.trust_list?(e="safe",i=("Unlimited"===t.approved_amount||t.approved_amount>=1e4)&&a.is_contract&&a.is_open_source?"low":"medium"):(i="Unlimited"===t.approved_amount||t.approved_amount>=1e4||1===a.doubt_list?"high":a.is_contract&&a.is_open_source?"medium":"high",1===a.doubt_list&&(e="unsafe"))}else i="high";m.indexOf(t.approved_contract.toLowerCase())>-1?(e="safe",i="low",n=""):v.indexOf(t.approved_contract.toLowerCase())>-1&&(e="unsafe",i="high");let r="",o="",l="";this.chainMap[s.chain_id]&&("zh_CN"===this.$i18n.locale?(r=this.chainMap[s.chain_id].tokenExplorer.replace("{account}",s.token_address||s.nft_address),o=this.chainMap[s.chain_id].explorer.replace("{account}",t.approved_contract),l=this.chainMap[s.chain_id].hashExplorer.replace("{hash}",t.initial_approval_hash)):(r=this.chainMap[s.chain_id].tokenExplorerEn.replace("{account}",s.token_address||s.nft_address),o=this.chainMap[s.chain_id].explorerEn.replace("{account}",t.approved_contract),l=this.chainMap[s.chain_id].hashExplorerEn.replace("{hash}",t.initial_approval_hash)));let d="";d="0x"===s.token_address||"0x"===s.nft_address?s.token_address||s.nft_address:p.a.utils.toChecksumAddress(s.token_address||s.nft_address);let A="ERC-20"===a||"token_20"===a?"token":"nft",u="https://res.1keeper.com/blockchains/"+c["l"][s.chain_id]+"/"+A+"/"+d+"/logo.png";return{logo:u,contract_name:t.address_info&&t.address_info.contract_name,token_symbol:s.token_symbol||s.nft_symbol,token_address:d,approved_contract:t.approved_contract,approved_amount:t.approved_amount,initial_approval_time:t.initial_approval_time?h()(1e3*t.initial_approval_time).format("YYYY-MM-DD HH:mm:ss"):"-",hash:t.hash,initial_approval_hash:t.initial_approval_hash,type:a,safety:e,risk:i,transitSwap:n,unapproving:!1,tokenAddressUrl:r,approveContractUrl:o,approveHashUrl:l,chainId:s.chain_id}});e=e.concat(t)}return e},async getTronApproveList(){this.promiseList=[];try{const t=await fetch(`https://apilist.tronscanapi.com/api/account/approve/list?address=${this.address}&limit=50&start=${this.tronListStart}&type=project`);let a=await t.json();this.type="tron";let e=[];Array.isArray(a.data)&&a.data.forEach(async t=>{let a={};a.approved_amount=t.unlimited?"Unlimited":t.amount,a.unapproving=!1,a.token_symbol=t.tokenInfo.tokenName,a.approved_contract=t.to_address,a.contract_address=t.contract_address,a.hash="",a.type="ERC-20",a.transitSwap=!1,(u.indexOf(t.to_address)>-1||t.project&&t.project.officalWebsite&&("justlend.org"===t.project.officalWebsite||"sunswap.com"===t.project.officalWebsite))&&(a.risk="low"),u.indexOf(t.to_address)>-1?a.transitSwap=!0:a.risk=Number(t.approved_amount)<2e4?"medium":a.risk="high";const s=/(ð–´ð–²ð–£ð–³|usdt|udst|tether|tather|tethar|U5DT)/i;a.tokenAddressUrl="https://tronscan.io/#/token20/"+t.contract_address,a.approveContractUrl=`https://tronscan.io/#/contract/${t.to_address}/code`,a.logo=t.tokenInfo.tokenLogo,s.test(t.tokenInfo.tokenName)&&-1===b.indexOf(t.contract_address.toLowerCase())?a.token_symbol=this.$t("phishingToken"):e.push(a)}),-1===navigator.userAgent.indexOf("1Keeper")&&this.switchTronLink(),a.data&&Array.isArray(a.data)&&a.data.length>0?(this.status="data",this.tronPageNum+=1,this.tronList=[...this.tronList,...e]):a.data&&Array.isArray(a.data)&&0===a.data.length&&1===this.tronPageNum?this.status="noData":a.data||(this.status="noData")}catch(t){this.status="noData"}},getOkLinkData(t,a){let e=[],s=[];this.type="token_20"===a?"ERC-20":"token_721"===a?"ERC-721":"ERC-1155";for(let i of t){switch(i.chainShortName){case"OKTC":s=g;break;case"POLYGON":s=C;break;case"FTM":s=f;break;case"ARBITRUM":s=w;break;case"AVAXC":s=k;break}const t=[];i.authorizedList.map(e=>{let n="",r="",o="";s.indexOf(e.approvedContractAddress)>-1?(r="low",n="safe",o=""):(r="high",n="unsafe");let c=e.approvedAmount;"unlimited"===e.approvedAmount&&(c="Unlimited");let l={logo:e.logo,token_address:i.tokenContractAddress,token_symbol:i.tokenFullName,approved_contract:e.approvedContractAddress,contract_name:e.approvedProjectName?e.approvedProjectName:e.approvedContractAddress,approved_amount:c,time:e.approvedTime?h()(Number(e.approvedTime)).format("YYYY-MM-DD HH:mm:ss"):"-",initial_approval_hash:e.approvedTxId,type:a,safety:n,risk:r,transitSwap:o,unapproving:!1,tokenAddressUrl:this.chainMap[this.currentChain.chainId]&&this.chainMap[this.currentChain.chainId].tokenExplorer.replace("{account}",i.tokenContractAddress),approveContractUrl:this.chainMap[this.currentChain.chainId]&&this.chainMap[this.currentChain.chainId].explorer.replace("{account}",e.approvedContractAddress),approveHashUrl:this.chainMap[this.currentChain.chainId]&&this.chainMap[this.currentChain.chainId].hashExplorer.replace("{hash}",e.approvedTxId)};t.push(l)}),e=e.concat(t)}return e.filter(t=>{if("Unlimited"===t.approved_amount||Number(t.approved_amount)>0)return!0})},switchChain(t){this.currentChain={...this.chainMap[t],chainId:t},this.chainListVisible=!1,this.$modal.hide("network-panel"),this.login("click"),"init"!==this.status&&(this.address?this.confirm():(this.tokenApprovalData=[],this.nft721ApprovalData=[],this.nft1155ApprovalData=[],this.status="noData"))},cancelApprove(t){if(!(this.cancelDisabled||t.unapproving||"728126428"===this.currentChain.chainId&&0===t.approved_amount))if("728126428"!==this.currentChain.chainId)if("ERC-20"===t.type){t.unapproving=!0;const a=new this.web3.eth.Contract(c["p"],t.token_address);let e=a.methods.approve(t.approved_contract,"0x0000000000000000000000000000000000000000000000000000000000000000").encodeABI(),s={from:this.userAddress,to:t.token_address,data:e};ethereum.request({method:"eth_sendTransaction",params:[s]}).then(a=>{let e=setInterval(()=>{this.checkEVMTransitionByHash(a,t,e)},1e3);this.timeoutIDs.push(e)}).catch(a=>{console.log(a),t.unapproving=!1})}else{t.unapproving=!0;const a=new this.web3.eth.Contract(c["m"],t.token_address);let e=a.methods.setApprovalForAll(t.approved_contract,!1).encodeABI(),s={from:this.userAddress,to:t.token_address,data:e};ethereum.request({method:"eth_sendTransaction",params:[s]}).then(a=>{let e=setInterval(()=>{this.checkEVMTransitionByHash(a,t,e)},1e3);this.timeoutIDs.push(e)}).catch(a=>{console.log(a),t.unapproving=!1})}else this.cancelTronApprove(t)},checkEVMTransitionByHash(t,a,e){this.web3.eth.getTransactionReceipt(t).then(t=>{if(t&&t.status){for(let t=0;t<this.timeoutIDs.length;t++)this.timeoutIDs[t]===e&&clearInterval(e);setTimeout(()=>{this.confirm("refresh"),a.unapproving=!1},5e3)}})},async cancelTronApprove(t){t.unapproving=!0;let a=tronWeb.contract(c["p"],t.contract_address);a.methods.approve(t.approved_contract,"0").send({from:this.selectedAddress},(a,e)=>{if(a)t.unapproving=!1,tronWeb.trx.getContract(t.contract_address).then(t=>{t.bytecode||alert("contract destroyed")});else{let a=setInterval(()=>{this.checkTransitionByHash(e,t,a)},1e3);this.timeoutIDs.push(a)}})},checkTransitionByHash(t,a,e){tronWeb.trx.getTransactionInfo(t).then(t=>{if(t.receipt&&t.receipt.result&&"SUCCESS"===t.receipt.result){a.unapproving=!1,a.approved_amount=0;for(let t=0;t<this.timeoutIDs.length;t++)this.timeoutIDs[t]===e&&clearInterval(e)}})},async login(t){try{if("Tron"===this.currentChain.name)this.switchTronLink();else{if("click"!==t)return;if(window.ethereum){let t=await ethereum.request({method:"eth_requestAccounts"});this.selectedAddress=t[0],this.selectedChainId=parseInt(ethereum.chainId,16).toString(),ethereum.on("accountsChanged",this.checkAddress),ethereum.on("chainChanged",this.checkChain)}this.switchToETH().catch(()=>{this.addETHChain().then(()=>{this.switchToETH()}).catch(t=>{}),this.switchToETH()})}}catch(a){console.error(a)}},onTronLink(t){t.data.message&&"connect"==t.data.message.action&&console.log("connect event",t.data.message.isTronLink)},async switchTronLink(){if(window.tronLink&&window.tronLink.ready)console.log("å·²ç™»å½•tronLinké’±åŒ…"),this.selectedAddress=tronLink.tronWeb.defaultAddress.base58,this.selectedChainId="728126428";else{console.log("è¯·å…ˆç™»å½•tronLinké’±åŒ…");const t=await tronLink.request({method:"tron_requestAccounts"});200===t.code&&(this.selectedAddress=tronLink.tronWeb.defaultAddress.base58,this.selectedChainId="728126428")}},switchToETH(){return new Promise((t,a)=>{ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:c["c"][this.currentChain.chainId].info.chainId}]}).then(t).catch(a)})},addETHChain(){return new Promise((t,a)=>{const e=c["c"][this.currentChain.chainId].info;ethereum.request({method:"wallet_addEthereumChain",params:[e]}).then(t).catch(a)})},checkAddress(t){this.selectedAddress=t&&t[0]},checkChain(t){this.selectedChainId=parseInt(t,16).toString()},onClear(){this.address=""},switchLang(t){let a="zh_CN"===t?"zh_CN":"en_US";this.$i18n.locale=a,localStorage.setItem("locale",a),document.title=this.$t("ApprovalTitle")},changeMode(){let t=document.documentElement.hasAttribute("theme");Object(o["h"])(!t),this.$store.commit("setDark",!t),t?window.localStorage.setItem("mode","light"):window.localStorage.setItem("mode","dark")}}},E=y,I=(e("5572"),e("2877")),D=Object(I["a"])(E,s,i,!1,null,"511da7f6",null);a["default"]=D.exports},"81f8":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKKADAAQAAAABAAAAKAAAAAB65masAAACMklEQVRYCe1YvU7DMBBuEHRi64BUCV6gb1AGEBJI9BGKEAti4OdV6NKR90BC4g3K2AmmFoZ2pYgBUPi+NA4X12mT4CQF5aRPPtvnu8/nxHFcqWjium4D6AB94BVYJEMYtDQ3M1XYtIHRImei/xF6M3CEShXoAl9AUhkGjgwKnK0Bb0mdwr63Sn9QqihugT3WU4iTYkycIZsrvtU1yrTkXjD2bF40x3E+fJvxPDtjH7LHZ05f1me08ZmpGwdZbESMKyBKRlxevhBSSK5mkUOkK8S5lIENukeQb6uUdqRHix0IaCL3KYlA9wjqW0key2oi9w5CxyaCoTaLSTK6QrCLUMBpheT2gQ2tz8tgqM3o1VIjAkWSY4hCCSL4eSgT04qXOTX/wgjGIVdYBkHuBNCFmTtQmVMl2vRPYo/rHhJlbKuEc/2AYCSn4sH+CBgDT8B2HgR5KlEyl5wiGSrVSFWGOi1U4LcJPPjYSerSITE5CB/2rE4mMkxsXZ1mYg/I27Ak+NuMlxn8dxnEptICeGjm3+Jh5ht10gz65FB4Mly6fZC05KTKl0RmI41eZjBN1uSYMoMyG2n0P5HBiZwZtqHMf9xlPKkbYk+YwYE0gr6r1fOs6rEH/NQVdnkkZw4eNYDfYCkdEiz6+q0ODrzq08nxSrDhTQIKr36XTbpBhsGM99P3S8SQXHgt/SM+ybSX6LbmxmUlh4DczC8mOrnupwCvJraAdSBL4TbHneQOuMFfb18G+waqyfCeNHvMZQAAAABJRU5ErkJggg=="},"851a":function(t,a,e){t.exports=e.p+"static/img/Approval.dad82ff1.png"},"8fbd":function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAqCAYAAADBNhlmAAAAzUlEQVR4Xu3WQQrDIBCF4ex7ql5GpbuC5+0hsug2dYqvNKImaUfN4v0gBGKYD8zCaWKMMcYYYz2z1t6MMXNYj7Cu6XvtZEacNcvs9P0q7/0lbHyGtcQlz82QEbeaJ4Z036cMsBkyg9sGSvGIvz9SRxZwy+YRI+fcPf1YC1nCycx0b7UWSDUc0kSq45AGshkO/YNsjkO/ILvh0BFkdxzagxyGQzXkcByqIMfjUAF5DhyqIYfjUA55GhyKt6D3P7j7VtI7uctt3ucYY4wd6gWiBa6o1jzM9AAAAABJRU5ErkJggg=="},"90d9":function(t,a,e){t.exports=e.p+"static/img/approve-logo.aa716b9f.png"},"99e8":function(t,a,e){t.exports=e.p+"static/img/approve-logo-dark.cb012c63.png"},b104:function(t,a,e){t.exports=e.p+"static/img/loading.f6e2c6f9.png"},c3bd:function(t,a,e){"use strict";e("4f2e")},d284:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAFPElEQVR4Xu1dr3PbMBQWGBgaGhkrGtx/ML67gQ0NDowNFg0UpItTMDo6MDgyvBvzXZs0ZHygoCAgJCjEIKDTp+d0tSTbz5Zky06+u+96l1iK9Pqs99OJEH3i8uKZ5GuxvDgTi9l3cZ2kYjn9K/9uJDPJu5w7em12o67BtcvkVI1Nz5/q044XvyZP5ObfSH7LhbEXkCPlXJgTAsVnjArp5BFpWfJDFLUqFDOpxT/FVfJKX8qwAE1YJp/8alpTzm7VrZ5OHuvLixdY7OLzuaBzzLKpXrgehiCvp+/lYleWDcTCtZhP3+nL7h/p5ETeLr8tC46VqVpzFCCt21oWGTulQZt+0LfTHdRZB3fEWNiwCJ+y87MRDvAi+WMsZricqz11Ajrvbi2LGDjlnoKfi1eT5yJuK+tIKUTsMQhGq3kGV/41EefDYQgvp9yrtzMRFgqHrPEhIyeMpBfrTGkm8wMOgXDTnEBOsjnxQbGts62MRifpp9i5bWdUEC+akx0oZZzfCMhYGJMcOuVxxgJZ3bU5wcET/iHDKiPxaA4+EkSiuBJH7avjprpoddS+eqLOU4qxh2uILqAkMJLL6RfRKhE8uxGoNBpAGdC4eEREqVPfOPm6zbNLKNMawAfoF46FNuHtgUhDv76OqHEXgINxtFGHdIKr3A/KcVrGVTIrGhOopHnRCFgjPOBy8sIcx+Dl+dv/k4yhOGSQITxgkXw1xzJYyNT02n4RhKj71gvPKWSVMlNAe5jx5qA5r3Z2c+AWpLY5fTyfKms9pvMPvYWcfkFy2dyNpnJnRhN9yFuKU8fwJTwQjaHjSNkza7o+hQdCdmLwiVOm8ObTl6JV6FbJdOAWmCk88vV8C4/OXOGtEVJuBj4VgvRu+mbWrC4CijRCpeg2EKCbKQcp1iz6XRRjus9tJ0944bspMghQf7Ep14bw9iAXyd+hTdyq86wO4YVHNF5oSmWJKuDX8mVRCQ8UrpurEyBAFtD1rM1Yjy5QH09XhnHnw4hsSm/hh1CHeWut4AkPUQg96aSPD8UNEqnuH2gzIja0u7V4wqOcZsdNUEgoeHOkmekj3GL8f9qumHcrAVUTU8v40Ew9h3JMIZK2pOZ4jZxnOpTwenrEQp3/CIj1N9zISyfVbRxJjjrUzRGaao0hqnG4RTmZkTIBVNZec6BIZBvbJVU6S5l9y5vOVPXTE33fBiCIhyWF2vYJQWNiqCLe5x6D+U3MYB+A4DjCA6Ko4exT+sEX5PnRgbZFIN8sFJWoPmBe5I9rlVJyBT1Gq8/dDwvdCd0U1nlJgDLEJDyjsA7QI/n6hb7Jiyp0xCU8irwMdFedaybEGIte1vWTXxXIGhtEWqo+ylgmHy1je6Y0iqVQXxKhDwjGnRJQGahrIFRGuz0rIyQyJq7prWZUtVUNProGwrA8+36Pfg7sVGmjYgQRRhkrtW8PSg0179ocPxnat8fxGTmTHKNXQN+ZjriY6uKpBzVg+6/mD48ZOyFi4Hgr3/GfkStD0ExN5OSUbGtBVrnjalcUnPOtbh2OXzrhAW2f6hkcG2TRG8Otu2AIXHnNnlvRrrtgAAypeTqokjcmw9Lhl4/tAQvltauhJ8JN82Zt24Cc7dD1lBDcujvJvkAWOrUsMlKqHp4TfRv9g7LIoRq6fXAVj9aVAecJFYJiEuRGJYp7Peua4l6Qfbo8sxtV5zFquEMDyoCUqu/C2GSqxq1+qKDkMf/BApqAjYX6MQL80MHgta0J0B5GP1RwmvuUaS5YVAYfVuWguZu8NTj/OYyLM6XZnTvARfwDsS/chY3mdNYAAAAASUVORK5CYII="},d28c:function(t,a,e){var s={"./delete-dark.png":"55be","./delete.png":"fd6f"};function i(t){var a=n(t);return e(a)}function n(t){if(!e.o(s,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="d28c"},da56:function(t,a,e){},f296:function(t,a,e){t.exports=e.p+"static/img/data-no.656db444.svg"},f532:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAeCAMAAAAIG46tAAAAM1BMVEUAAABnZ2d0dHRnZ2dpaWlnZ2dmZmZsbGxmZmZnZ2dnZ2dmZmZoaGhmZmZoaGhoaGhmZmaJdzF6AAAAEHRSTlMAsAb5Se4yHfSPflVTNzYTIVqrzAAAAENJREFUKM/tyTkOgDAMBMCNYzA3+//XUlOspShdlGkH04/th8k8ySI3lmzX3oVyk3RxVsgayXn7IbsrOTx1c0jxYlgftqQCTaD7o44AAAAASUVORK5CYII="},f61c:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAGKADAAQAAAABAAAAGAAAAADiNXWtAAAD2klEQVRIDdVWX2hbVRg/3z25TeyfNW2Sts5BkTkdK/4DN1ZELDNtmjZJZRIftA+++CI+TBCmCBLEJ1HRJ0Fw+NAXW1ibtF1Zs4mbrvsjm4NNrIURxkaz3CZZttqmzc09n9+59EC2XVv3Injg5PvO7/t953fu+e45N4w9RIv0Gkdlf4gU5nIiR6OL9WxNH2IeMzk5uX1VcRDhgPKVTSTQdfm00an72m6MjUFF4cpqyrnHVtxhgfgFlnniHtxhcOlnY0+V4R6rkH3UIcwcBfgj2knG4Db1N6OhbJdTosTiwWvNtJBODYTJfbezTjxHgYmJlhLT8DMkBWHxT1QiMIayq3FFNNrimg7zY2NdD2yP5NkC8bjRGAvmDsaDxWaVXN8cGCF/nnp3pL/QLXEA9p3s0o/2LPothj5ayPL4TMd1ickWDqObXoRdsjZybP+U7+AQMvi4DFYpGrz1tael/QcqmBXrLx4SVfMwF+ymJE+mA+9La7cmtsrXmQGVtT8BAGlC7bfzxd3VytJeBHBfnCtw4s3TE9Nq7LeGf0BvyetyWwhcQE18OD3bcdWebIufcDgb4FbdyyhEq03l/I+93S1nEwmo2gIqP9qX301F+4gh7qNVnZ5KB95Wsc0sbckALW4HaCyrW+658ZPbCpvxWSSU33cwfHPHpqSaYCy21BTrXdpeA/13Lgy+kvuctuOFWkkq+MT0icBXtdhW/mAwF9IYPI+UrLjIRcbxHCjC/9cO9BrPxQf+6vi3TxAP3Wl9NZzb6cS3D5oKxELGE1XB3gWEZ1fM8gXCD6vYZrZsVV7DqvbUYDB/jQMmU+nAouLbAm/1ZDx5vfEdy2IRqhAdNMxwDkcUaStbp2sz66ZopvOz02LsvUifcd5fWZn6/qfH12yBvN5wgKofpfrf1RCOeFr8U/ZVQU8kEIY1j/gmlWrP1QrR6fezde0NyyWSR4/5rtNV8eWvc8X9DEU/WrC/oDcuEf+ULeA3V34s1m0zmUecS6X8y3KieHyUl0vsEK2qE1axjaDcYG9uWMam0+0jLktvrQjRxU3dS5N/SteCoNAcCV9mZfczXjCvSK4tIB+F/LQEVCuXekJ0MXcyJq4mT3TYZNq9no34yPixwAIJLggUT148k3+J8FMytvEFPLfBc/7gyOub6jBMW4ageb5VZKBDJLsau6A6KjkkMtTXd6tB4bXW8aCtLuOLdHk1EfH45Kw3U5tQ6ydnH7tB41+oN7gFe7o2pnx7i9RAWQGusxyq9eCxjivsn2y9t210vWRk3N72S04cR4GZGd9dIo8/kAD4+/3Yxj+JM/fjavw36ciBMa5UsEkAAAAASUVORK5CYII="},f91b:function(t,a,e){var s={"./down-dark.png":"8fbd","./down.png":"62bc"};function i(t){var a=n(t);return e(a)}function n(t){if(!e.o(s,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="f91b"},fd6f:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAABIklEQVR4XsWW3cmDMBiFO0IUxOtvAukEXaLrePEtJnjVFdprF8gGNk9bIZ4E/Km8PfCA5P05GJOY02mFqqo6l2X575zrAo+A/8BzR4wcrdus0OhaFMU9NB3XQC412mdRdV3/heKbNlwLtfTQvlmFgot7T1fSaCM+cNH+M5GQKfyWvClT4I55M8Vnp/ebb7YEvWdmrCxNOprZ6t2y9PeCx8uMDatBpW3bse/7sWmaJMYYMXI0prwOh88JkgRjaIiGYZiZ8swYIkfrFLzYChxXSTAmbjyZ5sa0LkOHIeehBhLUYIcZPDD0mUCW2HSHGfifGJpPqe2iMd8W5hvf/GhD5oc3Mv09IfMfMHKWV4xJJLhj3tS7JbNJptfEWGYXYdWRV/0ny4BjorDQSs0AAAAASUVORK5CYII="},fee1:function(t,a,e){t.exports=e.p+"static/img/high-risk.b5fa0d3b.svg"},ffba:function(t,a,e){var s={"./loading-dark.png":"4c18","./loading.png":"b104","./loading_out.png":"f61c"};function i(t){var a=n(t);return e(a)}function n(t){if(!e.o(s,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="ffba"}}]);